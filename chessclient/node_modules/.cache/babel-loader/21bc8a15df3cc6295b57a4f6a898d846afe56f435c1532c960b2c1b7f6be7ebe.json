{"ast":null,"code":"var _jsxFileName = \"/home/adis-dell/Documents/JS/JS_rpise2/Chess_React/chessclient/src/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useReducer } from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport { Grid, Typography } from \"@mui/material\";\nimport { useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport LogicButton from \"./Button\";\nimport { checkLogin } from \"./Controller.js\";\nimport { useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login({\n  tries\n}) {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [count, setCount] = useState(tries);\n  const promise = useRef();\n  const btnClicked = useRef();\n  const valsEmpty = () => username === \"\" && password === \"\";\n  const get = (username, password, count) => {\n    if (!promise.current) promise.current = checkLogin(username, password, count);\n    return promise.current.read();\n  };\n  if (count > 0 && btnClicked.current) {\n    const ret = get(username, password, count);\n    if (ret.status === \"failed\") return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/failed\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 11\n    }, this);\n    if (ret.status === \"success\") return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/newgame\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }, this);\n    btnClicked.current = false;\n    if (ret.status === \"restart\") return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 40\n    }, this);\n  }\n  const setUsernameHelper = e => {\n    setUsername(e.target.value);\n  };\n  const setPasswordHelper = e => {\n    setPassword(e.target.value);\n  };\n  const onSubmit = () => {\n    if (valsEmpty()) return;\n    promise.current = null;\n    btnClicked.current = true;\n    setCount(prev => prev + 1);\n  };\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    direction: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    sx: {\n      width: \"100vw\",\n      height: \"100vh\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      justifyContent: \"center\",\n      display: \"flex\",\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        sx: {\n          m: 2\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 4\n    }, this), count > 0 && /*#__PURE__*/_jsxDEV(Grid, {\n      justifyContent: \"center\",\n      display: \"flex\",\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h7\",\n        sx: {\n          m: 2\n        },\n        children: [\"Wrong usename or password, You have only \", 3 - count, \" tries left, Please try again!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      justifyContent: \"center\",\n      display: \"flex\",\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"outlined-basic\",\n        label: \"Username\",\n        variant: \"outlined\",\n        defaultValue: \"\",\n        onChange: setUsernameHelper,\n        sx: {\n          m: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      justifyContent: \"center\",\n      display: \"flex\",\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"outlined-password-input\",\n        label: \"Password\",\n        type: \"password\",\n        defaultValue: \"\",\n        variant: \"outlined\",\n        onChange: setPasswordHelper,\n        sx: {\n          m: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      justifyContent: \"center\",\n      display: \"flex\",\n      children: /*#__PURE__*/_jsxDEV(LogicButton, {\n        onSubmit: onSubmit,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 3\n  }, this);\n}\n_s(Login, \"/3Xp3DAkz2aZN3VZJoRkmklg8C4=\");\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","useReducer","TextField","Grid","Typography","useState","Navigate","LogicButton","checkLogin","useRef","jsxDEV","_jsxDEV","Login","tries","_s","username","setUsername","password","setPassword","count","setCount","promise","btnClicked","valsEmpty","get","current","read","ret","status","to","replace","fileName","_jsxFileName","lineNumber","columnNumber","setUsernameHelper","e","target","value","setPasswordHelper","onSubmit","prev","container","direction","justifyContent","alignItems","sx","width","height","children","display","variant","m","id","label","defaultValue","onChange","type","_c","$RefreshReg$"],"sources":["/home/adis-dell/Documents/JS/JS_rpise2/Chess_React/chessclient/src/Login.js"],"sourcesContent":["import React, { useEffect, useReducer } from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport { Grid, Typography } from \"@mui/material\";\nimport { useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport LogicButton from \"./Button\";\nimport { checkLogin } from \"./Controller.js\";\nimport { useRef } from \"react\";\n\nexport default function Login({ tries }) {\n\tconst [username, setUsername] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [count, setCount] = useState(tries);\n\tconst promise = useRef();\n\tconst btnClicked = useRef();\n\n\tconst valsEmpty = () => username === \"\" && password === \"\";\n\n\tconst get = (username, password, count) => {\n\t\tif (!promise.current)\n\t\t\tpromise.current = checkLogin(username, password, count);\n\t\treturn promise.current.read();\n\t};\n\n\tif (count > 0 && btnClicked.current) {\n\t\tconst ret = get(username, password, count);\n\t\tif (ret.status === \"failed\")\n\t\t\treturn <Navigate to=\"/failed\" replace={true} />;\n\t\tif (ret.status === \"success\")\n\t\t\treturn <Navigate to=\"/newgame\" replace={true} />;\n\t\tbtnClicked.current = false;\n\t\tif (ret.status === \"restart\") return <Navigate to=\"/\" />;\n\t}\n\n\tconst setUsernameHelper = (e) => {\n\t\tsetUsername(e.target.value);\n\t};\n\tconst setPasswordHelper = (e) => {\n\t\tsetPassword(e.target.value);\n\t};\n\n\tconst onSubmit = () => {\n\t\tif (valsEmpty()) return;\n\t\tpromise.current = null;\n\t\tbtnClicked.current = true;\n\t\tsetCount((prev) => prev + 1);\n\t};\n\n\treturn (\n\t\t<Grid\n\t\t\tcontainer\n\t\t\tdirection=\"column\"\n\t\t\tjustifyContent=\"center\"\n\t\t\talignItems=\"center\"\n\t\t\tsx={{\n\t\t\t\twidth: \"100vw\",\n\t\t\t\theight: \"100vh\",\n\t\t\t}}>\n\t\t\t<Grid justifyContent=\"center\" display=\"flex\">\n\t\t\t\t<Typography variant=\"h5\" sx={{ m: 2 }}>\n\t\t\t\t\tLogin\n\t\t\t\t</Typography>\n\t\t\t</Grid>\n\n\t\t\t{count > 0 && (\n\t\t\t\t<Grid justifyContent=\"center\" display=\"flex\">\n\t\t\t\t\t<Typography variant=\"h7\" sx={{ m: 2 }}>\n\t\t\t\t\t\tWrong usename or password, You have only {3 - count} tries left,\n\t\t\t\t\t\tPlease try again!\n\t\t\t\t\t</Typography>\n\t\t\t\t</Grid>\n\t\t\t)}\n\n\t\t\t<Grid justifyContent=\"center\" display=\"flex\">\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-basic\"\n\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tdefaultValue=\"\"\n\t\t\t\t\tonChange={setUsernameHelper}\n\t\t\t\t\tsx={{ m: 2 }}\n\t\t\t\t/>\n\t\t\t</Grid>\n\n\t\t\t<Grid justifyContent=\"center\" display=\"flex\">\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-password-input\"\n\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tdefaultValue=\"\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tonChange={setPasswordHelper}\n\t\t\t\t\tsx={{ m: 2 }}\n\t\t\t\t/>\n\t\t\t</Grid>\n\n\t\t\t<Grid justifyContent=\"center\" display=\"flex\">\n\t\t\t\t<LogicButton onSubmit={onSubmit}>Submit</LogicButton>\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}